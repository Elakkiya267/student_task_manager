<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Task Manager - Home</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#2563eb">
    <link rel="apple-touch-icon" href="/icon-192.png">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <h1>Student Task Manager</h1>
            <div class="username-section">
                <span id="usernameDisplay">Welcome, Guest</span>
                <button onclick="setUsername()">Set Username</button>
            </div>
        </header>

        <!-- Navigation -->
        <nav class="nav-menu">
            <a href="tasks.html" class="nav-link">Task Manager</a>
            <a href="audio.html" class="nav-link">Text to Audio</a>
            <a href="sessions.html" class="nav-link">Study Sessions</a>
        </nav>

        <!-- Welcome Section -->
        <section class="section">
            <h2>Welcome</h2>
            <p>Use the navigation above to manage tasks, convert text to audio, or schedule group study sessions.</p>
        </section>
    </div>

    <script>
        if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
            .then(registration => {
                console.log('Service Worker registered:', registration);
            })
            .catch(error => {
                console.error('Service Worker registration failed:', error);
            });
    });
}
        // Username Logic
        let username = localStorage.getItem('username') || 'Guest';
        document.getElementById('usernameDisplay').textContent = `Welcome, ${username}`;

        function setUsername() {
            const newUsername = prompt('Enter your username:');
            if (newUsername && newUsername.trim() !== '') {
                username = newUsername.trim();
                localStorage.setItem('username', username);
                document.getElementById('usernameDisplay').textContent = `Welcome, ${username}`;
            }
        }

        // Register Service Worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('Service Worker registered:', registration);
                    })
                    .catch(error => {
                        console.error('Service Worker registration failed:', error);
                    });
            });
        }
    </script>
</body>
</html>